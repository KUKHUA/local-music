<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>local-player</title>

        <link rel="stylesheet" href="../lib/bulma.min.css">
        <link rel="stylesheet" href="../assets/css/index.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>

        <script src="../assets/script/util.js"></script>
        <script src="../assets/script/songSystem.js"></script>
        <script src="player.js"></script>

        <script src="../lib/butterchurn.min.js"></script>
        <script src="../lib/jsmediatags.js"></script>
        <script src="../lib/filelib.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                 window.juke = new jukeBoxPlayer('coverImage','statusMessage');
            });
        </script>

    </head>
    <body>
        <canvas id="webgl-background"></canvas>

        <div class="modal" id="pipModal">
            <div class="modal-background"></div>
            <div class="modal-content">
                <h1 class="title is-1">You are in PIP mode.</h1>
                <p class="subtitle is-3">To exit, please close the PIP window.</p>
            </div>
          </div>

        <div id="navDiv" class="navbar-menu has-background-black p-2 is-active" style="border-radius: 1em;">
            <div class="navbar-start is-hidden-mobile">
                <h1 class="title is-2 ml-3 mt-1">local-player</h1>
            </div>

            <div>

                <button style="border-radius: 1em;" class="button has-text-grey-lighter is-size-5
                has-background-grey-darker mx-2 is-responsive is-active has-hover" onclick="goTo('../import/');">
                    <a class="material-symbols-outlined mr-1">upload</a> Import
                </button>

                <button style="border-radius: 1em;" class="button has-text-grey-lighter is-size-5
                has-background-grey-dark mx-2 is-responsive has-hover" onclick="refresh();">
                    <a class="material-symbols-outlined mr-1">music_note</a> Player
                </button>

            </div>


            <div class="navbar-end">
                <button id="pipButton" style="border-radius: 1em;" class="button has-text-grey-lighter is-size-5
               mx-2 is-outlined is-responsive has-hover is-hidden-mobile" onclick="juke.alwaysOnTop('pipModal');">
                    <a class="material-symbols-outlined mr-1">open_in_new</a> Open Always-On-Top Player
                </button>

            </div>
        </div>

        <section class="section" id="playerArea">
            <div class="container">
                <div class="columns is-centered">
                <div class="column box has-text-centered" id="songImportArea">
                    <h1 class="title is-3" id="statusMessage">No Music Playing..</h1>

                    <button class="button is-size-3 mx-2 is-responsive has-hover is-primary"
                    onclick="juke.play();" id="shuffleButton">
                        <a class="material-symbols-outlined mr-1 has-text-primary-dark">shuffle</a>
                    </button> 

                    <figure id="coverBox" class="image is-square box mt-2 has-zoom" style="max-width: 35%; min-width: 10%; margin: 0 auto;"
                    onclick="juke.nextTrack();">
                        <img src="" id="coverImage" class="hideme" style="border-radius: 1em;">
                    </figure>

                    <button class="button is-size-4 mx-2 mt-2 is-responsive has-hover is-info"
                    onclick="juke.previousTrack();">
                        <a class="material-symbols-outlined mr-1 has-text-primary-dark">skip_previous</a>
                    </button> 

                    <button class="button is-size-4 mx-2 mt-2 is-responsive has-hover is-info"
                    onclick="juke.pause('pauseButton');">
                        <a id="pauseButton" class="material-symbols-outlined mr-1 has-text-primary-dark">pause</a>
                    </button> 

                    <button class="button is-size-4 mx-2 mt-2 is-responsive has-hover is-info"
                    onclick="juke.nextTrack();">
                        <a class="material-symbols-outlined mr-1 has-text-primary-dark">skip_next</a>
                    </button> 

                    <div class="mt-2 is-lyric has-zoom has-hover">
                        <p id="lyrics" class="is-size-4"></p>
                    </div>
                </div>
                </div>
            </div>
        </section>

        <footer class="footer has-background-black mt-6" id="footer">
            <div class="content has-text-centered has-text-grey-lighter">
              <p>
                <strong class="has-text-grey-lighter">Local Music Player</strong>
                <a href="https://github.com/KUKHUA/local-music" class="has-text-info">
                  <span class="material-symbols-outlined" style="vertical-align: middle;">code</span>
                  GitHub
                </a>
              </p>
              <p>
                Built with <a href="https://bulma.io" class="has-text-info">Bulma</a> 
                (<a href="https://github.com/jgthms/bulma/blob/master/LICENSE" class="has-text-info">MIT</a>) and 
                <a href="https://github.com/aadsm/jsmediatags" class="has-text-info">JSMediaTags</a>
                (<a href="https://github.com/aadsm/jsmediatags/blob/master/LICENSE" class="has-text-info">BSD-3</a>)
              </p>
            </div>
          </footer>
    </body>
</html>